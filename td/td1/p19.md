## Opérateurs

Le type `Complex` de `System.Numerics` fournit des opérateurs pour additionner, soustraire, multiplier et diviser des nombres complexes :

```csharp
using System.Numerics;

Complex z1 = new Complex(1, 2);
Complex z2 = new Complex(3, 4);
Complex z3 = z1 + z2; // addition
Complex z4 = z1 * z2; // multiplication
Console.WriteLine(z3); // affiche "<4; 6>"
Console.WriteLine(z4); // affiche "<-5; 10>"
```

En effet, le C# permet de définir ses propres opérateurs sur des types que l'on crée soi-même.

Par exemple, pour le type `Temperature` vu en exemple à la page précédente, on pourrait définir les opérateurs `+` et `-` pour additionner et soustraire des températures :

```csharp
struct Temperature {
    private double _valeur; // en Celsius
    public double Celsius {
        get { return _valeur; }
        set { _valeur = value; }
    }
    public double Fahrenheit {
        get { return _valeur * 9.0 / 5.0 + 32.0; }
        set { _valeur = (value - 32.0) * 5.0 / 9.0; }
    }

    public Temperature(double celsius) {
        _valeur = celsius;
    }

    // définit l'opérateur +
    // entre deux Temperature
    public static Temperature operator +(Temperature t1, Temperature t2) {
        return new Temperature(t1.Celsius + t2.Celsius);
    }

    public static Temperature operator -(Temperature t1, Temperature t2) {
        return new Temperature(t1.Celsius - t2.Celsius);
    }
}
```

Définisses les opérateurs `+` et `-` pour la structure `MyComplex` que vous avez créée dans le TD précédent, afin de pouvoir additionner et soustraire des nombres complexes avec la syntaxe habituelle.

Définissez ensuite l'opérateur `*`, sachant que pour deux nombres complexes $z_1 = a + bi$ et $z_2 = c + di$, on a :

$$z_1 \cdot z_2 = (ac - bd) + (ad + bc)i$$

Dotez ensuite `MyComplex` de deux méthodes statiques `Conjugate` et `Reciprocal` qui prendront un `MyComplex` en paramètre et renverront respectivement son conjugué et son inverse multiplicatif. Pour rappel, pour un nombre complexe $z = a + bi$ :

$$\overline{z} = a - bi$$

$$z^{-1} = \frac{a}{a^2 + b^2} + \frac{-b}{a^2 + b^2}i$$

Vous aurez désormais de quoi définir l'opérateur `/`, sachant que pour deux nombres complexes $z_1$ et $z_2$ :

$$\frac{z_1}{z_2} = z_1 \cdot z_2^{-1}$$

Testez :
```csharp
MyComplex z1 = new MyComplex(1, 2);
MyComplex z2 = new MyComplex(3, 4);
Console.WriteLine(z1 + z2); // affiche "4 + 6i"
Console.WriteLine(z1 - z2); // affiche "-2 - 2i"
Console.WriteLine(z1 * z2); // affiche "-5 + 10i"
Console.WriteLine(z1 / z2); // affiche "0,44 + 0,08i" (environ, arrondi)
```

Modifiez ensuite partout dans votre code l'utilisation de `Complex` par `MyComplex`. 

> [!TIP]
> Vous pouvez faire Ctrl+Shift+F (ou Cmd+Shift+F sur Mac) pour faire une recherche dans tous les fichiers du projet. Cela vous permettra de trouver toutes les occurrences de `Complex` et de les remplacer par `MyComplex`.